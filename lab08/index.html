<!DOCTYPE html>
<html lang="zh-Hant-TW">
<head>
    <meta charset="utf-8">
    <title>Lab 8</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Noto+Serif+JP:wght@900&display=swap');

        h1, div {
          background-color: rgba(255, 255, 0, 0.1);
          font-family: 'Noto Serif JP', serif;
          font-size: 24pt;
          border: solid 1px black;
          width: 90%;
          margin: 5px auto;
          padding: 10px;
        }

        div {
          font-size: 12pt;
        }
        
        body {
            background-color: rgba(255, 128, 255, 0.1);
        }

        video:hover {
            box-shadow: 0 0 2px 1px rgba(0, 140, 186, 0.5);
        }
        .path {
			stroke-dasharray: 125;
			animation: dash 5s linear alternate infinite;
		}
        @keyframes dash {
			from {
				stroke-dasharray: 125;
				fill: #fff;
			}
			to {
				stroke-dasharray: 0;
				fill: #000;
			}
		}

    </style>
    <script src="http://d3js.org/d3.v6.min.js" charset="utf-8"></script> <!-- v6.5.0 -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
</head>
<body>
    <h1>
        lab08 漢字書寫 (鉛筆字) (毛筆字也OK!) Path Animation
    </h1>
    <div>
      限定使用 D3.js，參考以下影片。
    	<ul>
    		<li><a href="https://bl.ocks.org/basilesimon/f164aec5758d16d51d248e41af5428e4">Animate path in D3</a></li>
    		<li><a href="https://codepen.io/MyXoToD/post/howto-self-drawing-svg-animation">"Self-Drawing" SVG</a></li>
    		<li><a href="https://stackoverflow.com/questions/15275362/how-to-transition-a-path-in-d3-js">How to transition a path in d3.js</a></li>
        <li><a href="https://css-tricks.com/svg-line-animation-works/">How SVG Line Animation Works</a></li>
        <li><a href="http://blog.roachking.net/blog/2014/10/31/osolve-team-drawing-animation/">使用 SVG 將圖片做成動畫</a></li>
        <li><a href="https://www.hesyifei.com/">何一非</a></li>
    	</ul>
    </div>

    <div>
  		<video width="400" controls loop autoplay>
  		  <source src="3.mp4" type="video/mp4">
  		</video>
    </div>

    <div>
      	展示區 (姓名)
      	<hr>
		    <div id="rect" style="width: 256px;height: 256px;display: inline-block;"></div>
		    <div style="width: 256px;height: 256px;display: inline-block;">
			    <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" viewBox="-10 0 273 256">

				   	<path class="path" id="first" stroke="#000"
  						stroke-width="4.3" fill="currentColor"
						d="M181 16l8 4q3 3 -1 5q-20 4 -31 12q-8 5 -1 -2q2 -1 2 -2t-2 -2l-6 2t-5 1q-3 1 -3 0q-1 -2 2 -3q4 -1 11 -3q8 -3 13 -5q4 -1 6 -4l1 -1q1 -4 6 -2zM97 30q6 4 11 8q2 3 1 4q0 1 -3 1q-7 -1 -25 27h3h7q3 1 3 3q1 4 -2 4q-3 2 -7 2q-17 27 -30 36l9 -3q8 -3 12 -5
				q8 -4 12 0q5 6 12 11q1 -1 7 -3t18 -5t19 -6q-8 -5 -15 -13q-4 -5 4 -10q2 0 2 -6q-1 -13 -2 -21q-1 -9 -3 -20q-1 -2 0 -2q0 -1 3 0v2q4 4 4 6v12q1 12 1 18q-1 14 13 31q11 -4 20 -7q6 -2 7 -6q1 -3 5 -2q7 1 11 2h3q3 1 3 3q0 1 -3 1q-5 1 -15 4l-8 2q-2 1 -6 2
				q-24 9 -29 15q-7 5 -2 -2q1 -1 0 -2h-3q-3 1 -4 2q-10 3 -16 6t-14 1q1 3 -3 4q-5 1 -8 11q-10 25 -42 65q-4 4 -6 4t-3 -2q-11 -17 -9 -37q0 -4 1 -5q1 0 2 4q0 9 5 22q0 2 1 2q4 10 12 2q29 -36 39 -71q0 -9 -7 -9q-14 4 -38 20q-4 3 -5 2q-2 0 -2 -4q0 -6 4 -7h2
				q4 -1 6 -4q-2 -2 5 -8q10 -10 19 -25q-29 14 -33 8q-3 -3 2 -6q9 0 28 -11q17 -20 19 -35q1 -3 -3 -4q-6 1 -15 5q-9 3 -17 -2q-2 -1 -2 -2q1 -1 4 -1q4 4 29 -6q7 -3 12 0zM182 49q1 3 -4 5q-13 5 -23 18q-5 5 -2 -2q2 -1 4 -5q1 -4 -1 -4h-5q-3 0 -3 -1t3 -2q6 -2 14 -7
				q5 -5 17 -2zM165 73q2 -3 13 -2q2 1 2 3q-1 2 -4 2q-8 2 -12 5q-6 3 -11 1q-2 -1 2 -3q2 0 7 -4q1 -1 3 -2zM177 111q-2 -1 0 -2q8 1 14 2q2 1 1 3q-1 1 -3 1q-3 1 -4 2q-7 1 -10 4q-10 8 -20 15q20 33 42 47q6 5 17 4q14 0 20 1q7 1 16 2q3 2 3 3t-3 1q-10 -1 -16 -1h-17
				q-13 2 -23 -7q-29 -25 -43 -48q-7 4 -8 3t5 -6q-3 -6 -9 -3q-5 2 -2 -2q3 -3 9 -4q2 0 7 6q28 -19 24 -21zM130 122h-1q-7 1 -5 24q0 41 4 52q2 5 7 -1q9 -8 18 -23q2 -3 3 -3q1 1 0 5q-3 8 -13 26q-2 2 -3 4q-2 2 -3 2q-1 1 -2 -1q-1 -1 -3 -2t-3 -1q-7 0 -8 -17
				q-1 -7 -1 -19q-1 -13 -1 -28q0 -12 9 -20q4 -3 2 2z" />
				</svg>
		    </div>
    </div>

    <div>
      Drag and Drop 展示區 (接收任何SVG)
    </div>

    <script type="text/javascript" >
      	// Your beautiful D3 code will go here
      	var first = document.getElementById("first");
		//console.log(typeof(first.getAttribute("d"))); //string
		var svg = d3.select("#rect")
					.append("svg")
					.attr("viewBox", "-10 0 273 256")
		var path = document.querySelector('.path');
		var length = path.getTotalLength();
		console.log(length);

		
    </script>
  </html>
  